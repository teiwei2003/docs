# CW3固定マルチシグニチャ

cw3-fixed-multisigソースコード:[https://github.com/CosmWasm/cosmwasm-plus/tree/master/contracts/cw3-fixed-multisig](https://github.com/CosmWasm/cosmwasm-plus/ツリー/メイン/コントラクト/cw3-fixed-multisig)

これは、[cw3仕様](01-spec.md)の単純な実装です.
これは、初期化中に作成された一連の固定アドレスを持つマルチシグニチャです.
各アドレスの重みは同じ(K of N)の場合もあれば、追加の投票がある場合もあります.
力.これは、ネイティブのCosmos SDKマルチシグニチャと非常に似ていますが、
アグリゲーションチェーンの下で署名して最終結果を送信する代わりに、
チェーンの承認を集約しました.

これはそのまま使用でき、おそらくcw3の最も安全な実装です.
(最も単純なため)ただし、次のようなより複雑なケースを追加します
マルチシグニチャセットを更新する場合、同じセットに対して異なる投票ルール
さまざまな権限があり、トークン加重投票も許可します.旅全体
同じクライアントインターフェイス.

## 中身

マルチシグニチャを作成するには、重み付けされた `HumanAddr`のセットを渡す必要があります
皆のために、そして提案を通過するために必要な重み.作成するには
3つのマルチ署名のうち2つは、重みが1で `required_weight`が2の3人の有権者を通過します.

0 *は許容重量*であることに注意してください.これは議決権を与えるものではありませんが、
キーを後で送信することはできます
有権者.有権者以外の住所は提案を提出できません.

## 処理

まず、登録済みの有権者は提案を提出する必要があります.これには、
スポンサーは最初に提案に「はい」と投票しました.提案者は設定できます
投票プロセスの有効期限、またはデフォルトの制限
契約が作成されたときに提供されます(したがって、プロポーザルは数回後に閉じることができます
空).

提案の有効期限が切れる前に、重みがゼロ以外の有権者は、
投票. 「はい」の投票のみがカウントされます.以前に十分な「はい」の投票が提出されている場合
提案の期日であり、ステータスは「承認済み」に設定されます.

提案が「合格」すると、誰でも「実行」メッセージを送信できます.この意志
プロポーザルをトリガーして、プロポーザルに保存されているすべてのメッセージを送信し、更新します
ステータスは「実行済み」であるため、再度実行することはできません. (実行が失敗した場合は注意してください
何らかの理由で-燃料不足、資金不足など-ステータスの更新は
復元された場合、「合格」のままになるため、再試行できます).

提案の有効期限が切れて合格しなかった場合、誰でも「閉じる」ために提案を送信できます
閉じたメッセージとしてマークします. UI/データベースのクリーンアップを除けば、これは効果がありません.
