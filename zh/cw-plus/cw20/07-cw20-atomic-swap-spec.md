# 原子交换

cw20-atomic-swap 源代码:[https://github.com/CosmWasm/cosmwasm-plus/tree/master/contracts/cw20-atomic-swap](https://github.com/CosmWasm/cosmwasm-plus/树/主/合同/cw20-原子交换)

这是一个允许用户执行原子交换的合约.
它实现了原子交换的一侧.另一面可以实现
通过同一区块链中或通常在不同区块链上的等效合约.

原子交换的每一方都有一个发送者、一个接收者、一个散列、
和超时.它还有一个唯一的 id(供将来调用以引用它).
散列是 sha256 编码的 32 字节长短语.
超时可以是基于时间的(自 1970 年 1 月 1 日午夜以来的秒数)，
或基于块高度.

基本功能是，发送方选择一个 32 字节长的短语作为原像，对其进行哈希处理，
然后使用散列创建资金互换.
在超时之前，任何知道原像的人都可以决定释放资金
给原收件人.
超时后(如果没有执行发布)，任何人都可以退款
锁定的令牌给原始发件人.
在交换的另一端，过程类似，发送者和接收者交换.
哈希值必须相同，因此第一个发件人可以领取资金，从而显示原像
并触发交换.

请参阅 [IOV 原子交换规范](https://github.com/iov-one/iov-core/blob/master/docs/atomic-swap-protocol-v1.md)
详情.

## 代币类型

目前支持原生代币；即将推出的版本将支持 CW20 代币.
